webpackJsonp([1],{"8BQu":function(e,o){},AWMV:function(e,o){},NHnr:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t("7+uW"),i={render:function(){var e=this.$createElement,o=this._self._c||e;return o("el-container",[o("el-header",[o("el-link",{staticStyle:{"font-size":"larger"},attrs:{href:"/index",underline:!1}},[this._v("woodwhales-code-generator")])],1),this._v(" "),o("el-main",[o("el-menu",{attrs:{mode:"horizontal","default-active":this.$route.path,router:""}},[o("el-menu-item",{attrs:{index:"/codeGenerator"}},[this._v("代码生成")]),this._v(" "),o("el-menu-item",{attrs:{index:"/connection"}},[this._v("链接管理")])],1),this._v(" "),o("router-view")],1)],1)},staticRenderFns:[]};var r=t("VU/8")({name:"Index",data:function(){return{}}},i,!1,function(e){t("t9mG")},null,null).exports,n={name:"App",components:{Index:r}},s={render:function(){var e=this.$createElement,o=this._self._c||e;return o("div",{attrs:{id:"app"}},[o("Index")],1)},staticRenderFns:[]};var l=t("VU/8")(n,s,!1,function(e){t("AWMV")},null,null).exports,d=t("/ocq"),m=t("lHA8"),f=t.n(m),b={name:"CodeGenerator",data:function(){return{loadConfigSys:{total:null,currentPage:1,pageSize:5},loadConfig:{configTableList:[],configCode:"",driverClassName:"",databaseType:"",ip:"",port:null,username:"",password:"",sid:""},saveConfigForm:{configName:null,configMemo:null,baseDbConfig:{dbType:null,driverClassName:null,ip:null,port:null,sid:null,username:null,password:null},extraFileDbConfig:{generateCode:!1,overCode:!1,overMarkdown:!1,generateMarkdown:!1},extraCodeDbConfig:{generateController:!1,generateService:!1,generateBatchMapper:!1}},editConfigForm:{configCode:null,configName:null,configMemo:null,baseDbConfig:{dbType:null,driverClassName:null,ip:null,port:null,sid:null,username:null,password:null},extraFileDbConfig:{generateCode:!1,overCode:!1,overMarkdown:!1,generateMarkdown:!1},extraCodeDbConfig:{generateController:!1,generateService:!1,generateBatchMapper:!1}},dbForm:{system:{btnTxt:"测试",btnType:"",process:1},temp:{schemas:[],dbVersion:"",interfaceName:"",inputVisible:!1,tableInfoList:[],saveConfigFormVisible:!1,loadConfigFormVisible:!1,editConfigFormVisible:!1,useJavaCodePath:!0},dbConfig:{dbType:"MYSQL",driverClassName:"com.mysql.cj.jdbc.Driver",ip:"127.0.0.1",port:"3306",sid:null,username:null,password:null,schema:null,tableKey:null},generateConfig:{dbTableConfig:{dbNameList:[],selectAll:!1},javaCodeConfig:{generateCode:!0,overCode:!0,generateDir:null,author:null,packageName:null,generateController:!1,generateService:!1,superClass:null,interfaceList:[],ormConfig:{orm:"",generateBatchMapper:!1}},markdownConfig:{generateMarkdown:!0,markdownDir:null,overMarkdown:!0}}},rules:{dbConfig:{ip:[{required:!0,message:"请输入 ip",trigger:"blur"}],username:[{required:!0,message:"请输入 username",trigger:"blur"}],password:[{required:!0,message:"请输入 password",trigger:"blur"}],schema:[{required:!0,message:"请选择 schema",trigger:"blur"}]},generateConfig:{javaCodeConfig:{generateDir:[{required:!0,message:"请指定项目路径",trigger:"blur"}],packageName:[{required:!0,message:"请输入项目包名",trigger:"blur"}],ormConfig:{orm:[{required:!0,message:"请选择 orm 框架",trigger:"blur"}]}},markdownConfig:{markdownDir:[{required:!0,message:"请指定文档路径",trigger:"blur"}]}}}}},methods:{resetToProcess1:function(){this.dbForm.dbConfig.dbType="MYSQL",this.dbForm.dbConfig.driverClassName="com.mysql.cj.jdbc.Driver",this.dbForm.dbConfig.ip="127.0.0.1",this.dbForm.dbConfig.port="3306",this.dbForm.dbConfig.sid=null,this.dbForm.dbConfig.username="",this.dbForm.dbConfig.password="",this.dbForm.temp.schemas=[],this.proccess1()},resetToProcess2:function(){this.dbForm.dbConfig.schema=null,this.dbForm.temp.dbVersion=null,this.proccess1()},resetToProcess3:function(){var e=this.dbForm.generateConfig,o=e.dbTableConfig;o.dbNameList=[],o.selectAll=!1;var t=e.javaCodeConfig;t.generateCode=!0,t.overCode=!0,t.generateDir=null,t.author=null,t.packageName=null,t.generateController=!1,t.generateService=!1,t.superClass=null,t.interfaceList=[];var a=t.ormConfig;a.orm="",a.generateBatchMapper=!1;var i=e.markdownConfig;i.generateMarkdown=!0,i.markdownDir=null,i.overMarkdown=!0,this.dbForm.temp.interfaceName=null,this.dbForm.temp.inputVisible=!1,this.dbForm.temp.tableInfoList=[],this.dbForm.dbConfig.tableKey="",this.dbForm.temp.useJavaCodePath=!0,this.proccess2()},changeDbType:function(e){"MYSQL"===e&&(this.dbForm.dbConfig.driverClassName="com.mysql.cj.jdbc.Driver",this.dbForm.dbConfig.port="3306",this.dbForm.dbConfig.sid=null),"ORACLE"===e&&(this.dbForm.dbConfig.driverClassName="oracle.jdbc.OracleDriver",this.dbForm.dbConfig.port=1521,this.dbForm.dbConfig.sid="orcl")},changeOrm:function(e){"MyBatis"===e&&(this.dbForm.generateConfig.javaCodeConfig.ormConfig.generateBatchMapper=!1)},submitForm:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;if(1===o.dbForm.system.process&&o.$axios.post("/generate/buildConnection",o.dbForm.dbConfig).then(function(e){o.proccess2(),o.dbForm.temp.schemas=e.schemas,o.dbForm.temp.dbVersion=e.dbVersion}),2===o.dbForm.system.process&&o.$axios.post("/generate/buildTableInfos",o.dbForm.dbConfig).then(function(e){o.proccess3(),o.dbForm.generateConfig.javaCodeConfig.interfaceList=[],o.dbForm.temp.tableInfoList=e.tableInfos,o.dbForm.dbConfig.tableKey=e.dataBaseInfoKey}),3===o.dbForm.system.process){var t=o.dbForm.dbConfig;t.dbTableConfig=o.dbForm.generateConfig.dbTableConfig,t.javaCodeConfig=o.dbForm.generateConfig.javaCodeConfig,t.markdownConfig=o.dbForm.generateConfig.markdownConfig,o.$axios.post("/generate/process",t).then(function(e){})}})},resetForm:function(e){1===this.dbForm.system.process&&this.resetToProcess1(),2===this.dbForm.system.process&&this.resetToProcess2(),3===this.dbForm.system.process&&this.resetToProcess3(),4===this.dbForm.system.process&&this.resetToProcess2()},proccess1:function(){this.dbForm.system.process=1,this.dbForm.system.btnType="primary",this.dbForm.system.btnTxt="测试"},proccess2:function(){this.dbForm.system.process=2,this.dbForm.system.btnType="warning",this.dbForm.system.btnTxt="提交"},proccess3:function(){this.dbForm.system.process=3,this.dbForm.system.btnType="success",this.dbForm.system.btnTxt="生成"},handleClose:function(e){this.dbForm.generateConfig.javaCodeConfig.interfaceList.splice(this.generateConfig.javaCodeConfig.interfaceList.indexOf(e),1)},showInput:function(){var e=this;this.dbForm.temp.inputVisible=!0,this.$nextTick(function(o){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.dbForm.temp.interfaceName;""!==e&&(new f.a(this.dbForm.generateConfig.javaCodeConfig.interfaceList).has(e)?this.$message.warning("重复添加接口类名"):this.dbForm.generateConfig.javaCodeConfig.interfaceList.push(e));this.dbForm.temp.inputVisible=!1,this.dbForm.temp.interfaceName=""},selectTableInfo:function(e){var o=[];e.map(function(e){o.push(e.dbName)}),e.length>0&&e.length===this.dbForm.temp.tableInfoList.length&&(this.dbForm.generateConfig.dbTableConfig.selectAll=!0),this.dbForm.generateConfig.dbTableConfig.dbNameList=o},showDetailTable:function(e){this.$router.push({path:"/tableDetail",query:{tableKey:e}})},saveConfigDialogOpen:function(){this.saveConfigForm.configName=this.dbForm.dbConfig.dbType+"_"+this.dbForm.dbConfig.ip+"_"+this.dbForm.dbConfig.port+"_"+this.dbForm.dbConfig.username,this.saveConfigForm.baseDbConfig.ip=this.dbForm.dbConfig.ip,this.saveConfigForm.baseDbConfig.port=this.dbForm.dbConfig.port,this.saveConfigForm.baseDbConfig.username=this.dbForm.dbConfig.username,this.saveConfigForm.baseDbConfig.password=this.dbForm.dbConfig.password,this.saveConfigForm.baseDbConfig.sid=this.dbForm.dbConfig.sid,this.saveConfigForm.baseDbConfig.dbType=this.dbForm.dbConfig.dbType,this.saveConfigForm.baseDbConfig.driverClassName=this.dbForm.dbConfig.driverClassName},saveConfigFun:function(){var e=this;this.$axios.post("/databaseConfig/create",this.saveConfigForm).then(function(o){e.dbForm.temp.saveConfigFormVisible=!1})},queryConfig:function(){var e=this;this.$axios.get("/databaseConfig/page",{params:{page:this.loadConfigSys.currentPage,limit:this.loadConfigSys.pageSize}}).then(function(o){e.loadConfigSys.total=o.count,e.loadConfig.configTableList=o.list})},loadConfigDialogOpen:function(){this.initLoadConfig(),this.queryConfig()},selectLoadConfig:function(e){e&&(this.loadConfig.configCode=e.configCode,this.loadConfig.driverClassName=e.databaseDriverClassName,this.loadConfig.databaseType=e.databaseType,this.loadConfig.ip=e.configIp,this.loadConfig.port=e.configPort,this.loadConfig.username=e.configUsername,this.loadConfig.password=e.configPassword,this.loadConfig.sid=e.configSid)},loadConfigFun:function(){this.dbForm.dbConfig.databaseType=this.loadConfig.databaseType,this.dbForm.dbConfig.ip=this.loadConfig.ip,this.dbForm.dbConfig.port=this.loadConfig.port,this.dbForm.dbConfig.username=this.loadConfig.username,this.dbForm.dbConfig.password=this.loadConfig.password,this.dbForm.dbConfig.sid=this.loadConfig.sid,this.initLoadConfig(),this.dbForm.temp.loadConfigFormVisible=!1},initLoadConfig:function(){this.loadConfig.configTableList=[],this.loadConfig.configCode=null,this.loadConfig.driverClassName=null,this.loadConfig.databaseType=null,this.loadConfig.ip=null,this.loadConfig.port=null,this.loadConfig.username=null,this.loadConfig.password=null,this.loadConfig.sid=null},deleteConfig:function(e){var o=this;this.$axios.post("/databaseConfig/delete",{configCode:e}).then(function(e){var t=Math.ceil((o.loadConfigSys.total-1)/o.loadConfigSys.pageSize),a=o.loadConfigSys.currentPage>t?t:o.loadConfigSys.currentPage;o.loadConfigSys.currentPage=a<1?1:a,o.loadConfigDialogOpen()})},editConfig:function(e){var o=this;this.$axios.post("/databaseConfig/get",{configCode:e}).then(function(e){o.editConfigForm.configCode=e.configCode,o.editConfigForm.configName=e.configName,o.editConfigForm.configMemo=e.configMemo,o.editConfigForm.baseDbConfig.ip=e.configIp,o.editConfigForm.baseDbConfig.port=e.configPort,o.editConfigForm.baseDbConfig.username=e.configUsername,o.editConfigForm.baseDbConfig.password=e.configPassword,o.editConfigForm.baseDbConfig.sid=e.configSid,o.editConfigForm.baseDbConfig.dbType=e.databaseType,o.editConfigForm.baseDbConfig.driverClassName=e.databaseDriverClassName,o.dbForm.temp.editConfigFormVisible=!0})},updateConfigFun:function(){var e=this;this.$axios.post("/databaseConfig/update",this.editConfigForm).then(function(o){e.dbForm.temp.editConfigFormVisible=!1,e.dbForm.temp.loadConfigFormVisible=!0,e.queryConfig()})},handleCurrentChange:function(e){this.loadConfigSys.currentPage=e,this.queryConfig()},useJavaCodePathChange:function(e){this.dbForm.temp.useJavaCodePath=e,this.dbForm.generateConfig.markdownConfig.markdownDir=e?this.dbForm.generateConfig.javaCodeConfig.generateDir:null},editGenerateDirInput:function(e){this.dbForm.temp.useJavaCodePath&&(this.dbForm.generateConfig.markdownConfig.markdownDir=e)}}},g={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"main-body"},[t("el-row",[t("el-form",{ref:"ruleForm",attrs:{model:e.dbForm,"label-width":"120px",rules:e.rules}},[t("el-row",[t("el-form-item",{attrs:{label:"驱动配置",prop:"dbType"}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"驱动类型",prop:"generateCode"}},[t("el-radio-group",{attrs:{disabled:1!==e.dbForm.system.process},on:{change:function(o){return e.changeDbType(o)}},model:{value:e.dbForm.dbConfig.dbType,callback:function(o){e.$set(e.dbForm.dbConfig,"dbType",o)},expression:"dbForm.dbConfig.dbType"}},[t("el-radio",{attrs:{label:"MYSQL",border:""}},[e._v("MYSQL")]),e._v(" "),t("el-radio",{attrs:{label:"ORACLE",border:""}},[e._v("Oracle")])],1)],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:12}},[t("el-form-item",{attrs:{label:"驱动类名",prop:"driverClassName"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.dbForm.dbConfig.driverClassName,callback:function(o){e.$set(e.dbForm.dbConfig,"driverClassName","string"==typeof o?o.trim():o)},expression:"dbForm.dbConfig.driverClassName"}})],1)],1)],1)],1),e._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"链接配置"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"IP地址",prop:"dbConfig.ip"}},[t("el-input",{attrs:{placeholder:"请输入主机名或IP地址",disabled:1!==e.dbForm.system.process},model:{value:e.dbForm.dbConfig.ip,callback:function(o){e.$set(e.dbForm.dbConfig,"ip","string"==typeof o?o.trim():o)},expression:"dbForm.dbConfig.ip"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"端口号",prop:"dbConfig.port"}},[t("el-input-number",{attrs:{min:1,max:25535,placeholder:"端口号",disabled:1!==e.dbForm.system.process},model:{value:e.dbForm.dbConfig.port,callback:function(o){e.$set(e.dbForm.dbConfig,"port",o)},expression:"dbForm.dbConfig.port"}})],1)],1),e._v(" "),"ORACLE"===e.dbForm.dbConfig.dbType?t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"SID",prop:"dbConfig.sid"}},[t("el-input",{attrs:{placeholder:"请输入SID",disabled:1!==e.dbForm.system.process},model:{value:e.dbForm.dbConfig.sid,callback:function(o){e.$set(e.dbForm.dbConfig,"sid","string"==typeof o?o.trim():o)},expression:"dbForm.dbConfig.sid"}})],1)],1):e._e(),e._v(" "),t("el-col",{attrs:{span:6}})],1)],1)],1),e._v(" "),t("el-row",[t("el-form-item",[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"用户名",prop:"dbConfig.username"}},[t("el-input",{attrs:{placeholder:"请输入用户名",disabled:1!==e.dbForm.system.process},model:{value:e.dbForm.dbConfig.username,callback:function(o){e.$set(e.dbForm.dbConfig,"username","string"==typeof o?o.trim():o)},expression:"dbForm.dbConfig.username"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"密码",prop:"dbConfig.password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码",disabled:1!==e.dbForm.system.process},model:{value:e.dbForm.dbConfig.password,callback:function(o){e.$set(e.dbForm.dbConfig,"password","string"==typeof o?o.trim():o)},expression:"dbForm.dbConfig.password"}}),e._v(" "),1!==e.dbForm.system.process?t("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(o){e.dbForm.temp.saveConfigFormVisible=!0}}},[e._v("保存配置\n                ")]):e._e(),e._v(" "),1===e.dbForm.system.process?t("el-button",{attrs:{type:"info",size:"mini",plain:""},on:{click:function(o){e.dbForm.temp.loadConfigFormVisible=!0}}},[e._v("加载配置\n                ")]):e._e()],1)],1),e._v(" "),t("el-col",{attrs:{span:12}})],1)],1)],1),e._v(" "),2===e.dbForm.system.process||3===e.dbForm.system.process?t("el-row",[t("el-form-item",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"schema",prop:"dbConfig.schema"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:3===e.dbForm.system.process},model:{value:e.dbForm.dbConfig.schema,callback:function(o){e.$set(e.dbForm.dbConfig,"schema",o)},expression:"dbForm.dbConfig.schema"}},e._l(e.dbForm.temp.schemas,function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"库版本号"}},[t("span",{staticStyle:{color:"#606266"},domProps:{textContent:e._s(e.dbForm.temp.dbVersion)}})])],1),e._v(" "),t("el-col",{attrs:{span:12}})],1)],1):e._e(),e._v(" "),3===e.dbForm.system.process?t("el-row",[t("el-form-item",{attrs:{label:"生成配置"}},[t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"生成代码",prop:"generateConfig.javaCodeConfig.generateCode"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.javaCodeConfig.generateCode,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"generateCode",o)},expression:"dbForm.generateConfig.javaCodeConfig.generateCode"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"生成文档",prop:"generateConfig.markdownConfig.generateMarkdown"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.markdownConfig.generateMarkdown,callback:function(o){e.$set(e.dbForm.generateConfig.markdownConfig,"generateMarkdown",o)},expression:"dbForm.generateConfig.markdownConfig.generateMarkdown"}})],1)],1)],1)],1):e._e(),e._v(" "),3===e.dbForm.system.process&&e.dbForm.generateConfig.javaCodeConfig.generateCode?t("el-row",[t("el-form-item",{attrs:{label:"代码配置"}},[t("el-row",[t("el-form-item",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"覆盖代码",prop:"generateConfig.javaCodeConfig.overCode"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.javaCodeConfig.overCode,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"overCode",o)},expression:"dbForm.generateConfig.javaCodeConfig.overCode"}})],1)],1)],1),e._v(" "),t("el-form-item",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目路径",prop:"generateConfig.javaCodeConfig.generateDir"}},[t("el-input",{attrs:{placeholder:"请指定项目路径",size:"small"},on:{input:e.editGenerateDirInput},model:{value:e.dbForm.generateConfig.javaCodeConfig.generateDir,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"generateDir","string"==typeof o?o.trim():o)},expression:"dbForm.generateConfig.javaCodeConfig.generateDir"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目包名",prop:"generateConfig.javaCodeConfig.packageName"}},[t("el-input",{attrs:{placeholder:"请输入项目包名",size:"small"},model:{value:e.dbForm.generateConfig.javaCodeConfig.packageName,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"packageName","string"==typeof o?o.trim():o)},expression:"dbForm.generateConfig.javaCodeConfig.packageName"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目作者",prop:"generateConfig.javaCodeConfig.author"}},[t("el-input",{attrs:{placeholder:"请输入项目作者",size:"small"},model:{value:e.dbForm.generateConfig.javaCodeConfig.author,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"author","string"==typeof o?o.trim():o)},expression:"dbForm.generateConfig.javaCodeConfig.author"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}})],1),e._v(" "),t("el-form-item",{attrs:{label:"ORM框架",prop:"generateConfig.javaCodeConfig.ormConfig.orm"}},[t("el-col",{attrs:{span:24}},[t("el-radio-group",{on:{change:function(o){return e.changeOrm(o)}},model:{value:e.dbForm.generateConfig.javaCodeConfig.ormConfig.orm,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig.ormConfig,"orm",o)},expression:"dbForm.generateConfig.javaCodeConfig.ormConfig.orm"}},[t("el-radio",{attrs:{label:"MyBatis",size:"small",border:""}},[e._v("My Batis")]),e._v(" "),t("el-radio",{attrs:{label:"MyBatisPlus",size:"small",border:""}},[e._v("My BatisPlus")])],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"业务代码"}},[t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"controller",prop:"generateConfig.javaCodeConfig.generateController"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.javaCodeConfig.generateController,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"generateController",o)},expression:"dbForm.generateConfig.javaCodeConfig.generateController"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"service",prop:"generateConfig.javaCodeConfig.generateService"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.javaCodeConfig.generateService,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"generateService",o)},expression:"dbForm.generateConfig.javaCodeConfig.generateService"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:4}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"MyBatisPlus"===e.dbForm.generateConfig.javaCodeConfig.ormConfig.orm,expression:"dbForm.generateConfig.javaCodeConfig.ormConfig.orm === 'MyBatisPlus'"}],attrs:{label:"batchMapper",prop:"generateConfig.javaCodeConfig.ormConfig.generateBatchMapper"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.javaCodeConfig.ormConfig.generateBatchMapper,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig.ormConfig,"generateBatchMapper",o)},expression:"dbForm.generateConfig.javaCodeConfig.ormConfig.generateBatchMapper"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"父类类名"}},[t("el-col",{attrs:{span:6}},[t("el-form-item",[t("el-input",{attrs:{size:"small",placeholder:"请指定要生成的目录路径"},model:{value:e.dbForm.generateConfig.javaCodeConfig.superClass,callback:function(o){e.$set(e.dbForm.generateConfig.javaCodeConfig,"superClass","string"==typeof o?o.trim():o)},expression:"dbForm.generateConfig.javaCodeConfig.superClass"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:18}})],1),e._v(" "),t("el-form-item",{attrs:{label:"接口类名"}},[t("el-col",{attrs:{span:24}},[e._l(e.dbForm.generateConfig.javaCodeConfig.interfaceList,function(o){return t("el-tag",{key:o,attrs:{size:"small",closable:"","disable-transitions":!1},on:{close:function(t){return e.handleClose(o)}}},[e._v("\n                    "+e._s(o)+"\n                  ")])}),e._v(" "),e.dbForm.temp.inputVisible?t("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.dbForm.temp.interfaceName,callback:function(o){e.$set(e.dbForm.temp,"interfaceName","string"==typeof o?o.trim():o)},expression:"dbForm.temp.interfaceName"}}):t("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 添加")])],2)],1)],1)],1)],1):e._e(),e._v(" "),3===e.dbForm.system.process&&e.dbForm.generateConfig.markdownConfig.generateMarkdown?t("el-row",[t("el-form-item",{attrs:{label:"文档配置"}},[t("el-form-item",{attrs:{label:"覆盖文档",prop:"generateConfig.markdownConfig.overMarkdown"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.dbForm.generateConfig.markdownConfig.overMarkdown,callback:function(o){e.$set(e.dbForm.generateConfig.markdownConfig,"overMarkdown",o)},expression:"dbForm.generateConfig.markdownConfig.overMarkdown"}})],1),e._v(" "),t("el-form-item",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"文档路径",prop:"generateConfig.markdownConfig.markdownDir"}},[t("el-input",{attrs:{disabled:e.dbForm.temp.useJavaCodePath,placeholder:"请指定文档路径"},model:{value:e.dbForm.generateConfig.markdownConfig.markdownDir,callback:function(o){e.$set(e.dbForm.generateConfig.markdownConfig,"markdownDir","string"==typeof o?o.trim():o)},expression:"dbForm.generateConfig.markdownConfig.markdownDir"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"与代码路径一致",prop:"temp.useJavaCodePath"}},[t("el-checkbox",{on:{change:e.useJavaCodePathChange},model:{value:e.dbForm.temp.useJavaCodePath,callback:function(o){e.$set(e.dbForm.temp,"useJavaCodePath",o)},expression:"dbForm.temp.useJavaCodePath"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:12}})],1)],1)],1):e._e(),e._v(" "),3===e.dbForm.system.process?t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"数据库表"}},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dbForm.temp.tableInfoList},on:{"selection-change":e.selectTableInfo}},[t("el-table-column",{attrs:{type:"selection"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dbName",label:"表名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"类名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"comment",label:"注释"}}),e._v(" "),t("el-table-column",{attrs:{prop:"keys",label:"主键"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.row.keys.join(",")))])]}}],null,!1,4052885505)}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showDetailTable(o.row.tableKey)}}},[e._v("查看")])]}}],null,!1,2856478648)})],1)],1)],1)],1):e._e(),e._v(" "),t("el-row",[t("el-form-item",[t("el-button",{attrs:{type:"primary",type:e.dbForm.system.btnType,disabled:3===e.dbForm.system.process&&0===e.dbForm.temp.tableInfoList.length},domProps:{textContent:e._s(e.dbForm.system.btnTxt)},on:{click:function(o){return e.submitForm("ruleForm")}}}),e._v(" "),t("el-button",{attrs:{type:"info"},on:{click:function(o){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"保存配置",visible:e.dbForm.temp.saveConfigFormVisible,center:"",width:"80%"},on:{"update:visible":function(o){return e.$set(e.dbForm.temp,"saveConfigFormVisible",o)},open:e.saveConfigDialogOpen}},[t("el-form",{attrs:{model:e.saveConfigForm,"label-position":"right"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置名称","label-width":"80px",prop:"configName",required:""}},[t("el-input",{attrs:{placeholder:"请输入配置名称"},model:{value:e.saveConfigForm.configName,callback:function(o){e.$set(e.saveConfigForm,"configName",o)},expression:"saveConfigForm.configName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置备注","label-width":"80px",prop:"configName"}},[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入配置备注",resize:"none"},model:{value:e.saveConfigForm.configMemo,callback:function(o){e.$set(e.saveConfigForm,"configMemo",o)},expression:"saveConfigForm.configMemo"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"驱动类型",prop:"baseDbConfig.dbType","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入驱动类型",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.dbType,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"dbType",o)},expression:"saveConfigForm.baseDbConfig.dbType"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"驱动类名",prop:"baseDbConfig.driverClassName","label-width":"80px"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.driverClassName,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"driverClassName",o)},expression:"saveConfigForm.baseDbConfig.driverClassName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"IP地址",prop:"baseDbConfig.ip","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入主机名或IP地址",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.ip,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"ip",o)},expression:"saveConfigForm.baseDbConfig.ip"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"端口号",prop:"baseDbConfig.port","label-width":"80px",required:""}},[t("el-input",{attrs:{min:1,max:25535,placeholder:"端口号",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.port,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"port",o)},expression:"saveConfigForm.baseDbConfig.port"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},["ORACLE"===e.saveConfigForm.baseDbConfig.dbType?t("el-form-item",{attrs:{label:"SID",prop:"baseDbConfig.sid","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入SID",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.sid,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"sid",o)},expression:"saveConfigForm.baseDbConfig.sid"}})],1):e._e()],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"用户名",prop:"baseDbConfig.username","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入用户名",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.username,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"username",o)},expression:"saveConfigForm.baseDbConfig.username"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"密码",prop:"baseDbConfig.password","label-width":"80px",required:""}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码",disabled:!0},model:{value:e.saveConfigForm.baseDbConfig.password,callback:function(o){e.$set(e.saveConfigForm.baseDbConfig,"password",o)},expression:"saveConfigForm.baseDbConfig.password"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveConfigFun}},[e._v("保 存")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:function(o){e.dbForm.temp.saveConfigFormVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"更新配置",visible:e.dbForm.temp.editConfigFormVisible,center:"",width:"80%"},on:{"update:visible":function(o){return e.$set(e.dbForm.temp,"editConfigFormVisible",o)},open:e.saveConfigDialogOpen}},[t("el-form",{attrs:{model:e.editConfigForm,"label-position":"right"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置名称","label-width":"80px",prop:"configName",required:""}},[t("el-input",{attrs:{placeholder:"请输入配置名称"},model:{value:e.editConfigForm.configName,callback:function(o){e.$set(e.editConfigForm,"configName",o)},expression:"editConfigForm.configName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置备注","label-width":"80px",prop:"configMemo"}},[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入配置备注",resize:"none"},model:{value:e.editConfigForm.configMemo,callback:function(o){e.$set(e.editConfigForm,"configMemo",o)},expression:"editConfigForm.configMemo"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"驱动类型",prop:"baseDbConfig.dbType","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入驱动类型",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.dbType,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"dbType",o)},expression:"editConfigForm.baseDbConfig.dbType"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"驱动类名",prop:"baseDbConfig.driverClassName","label-width":"80px"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.editConfigForm.baseDbConfig.driverClassName,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"driverClassName",o)},expression:"editConfigForm.baseDbConfig.driverClassName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"IP地址",prop:"baseDbConfig.ip","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入主机名或IP地址",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.ip,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"ip",o)},expression:"editConfigForm.baseDbConfig.ip"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"端口号",prop:"baseDbConfig.port","label-width":"80px",required:""}},[t("el-input",{attrs:{min:1,max:25535,placeholder:"端口号",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.port,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"port",o)},expression:"editConfigForm.baseDbConfig.port"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},["ORACLE"===e.editConfigForm.baseDbConfig.dbType?t("el-form-item",{attrs:{label:"SID",prop:"baseDbConfig.sid","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入SID",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.sid,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"sid",o)},expression:"editConfigForm.baseDbConfig.sid"}})],1):e._e()],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"用户名",prop:"baseDbConfig.username","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入用户名",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.username,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"username",o)},expression:"editConfigForm.baseDbConfig.username"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"密码",prop:"baseDbConfig.password","label-width":"80px",required:""}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.password,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"password",o)},expression:"editConfigForm.baseDbConfig.password"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.updateConfigFun}},[e._v("更 新")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:function(o){e.dbForm.temp.editConfigFormVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"加载配置",visible:e.dbForm.temp.loadConfigFormVisible,center:"",width:"80%"},on:{"update:visible":function(o){return e.$set(e.dbForm.temp,"loadConfigFormVisible",o)},open:e.loadConfigDialogOpen}},[t("el-table",{ref:"singleTable",attrs:{data:e.loadConfig.configTableList,"highlight-current-row":""},on:{"current-change":e.selectLoadConfig}},[t("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{property:"configName",label:"配置名称"}}),e._v(" "),t("el-table-column",{attrs:{property:"configIp",label:"ip"}}),e._v(" "),t("el-table-column",{attrs:{property:"configPort",label:"port"}}),e._v(" "),t("el-table-column",{attrs:{property:"configUsername",label:"username"}}),e._v(" "),t("el-table-column",{attrs:{property:"configSid",label:"sid"}}),e._v(" "),t("el-table-column",{attrs:{property:"configMemo",label:"配置描述"}}),e._v(" "),t("el-table-column",{attrs:{property:"gmtModified",label:"更新时间"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"warn",size:"mini"},on:{click:function(t){return e.editConfig(o.row.configCode)}}},[e._v("编辑")]),e._v(" "),t("el-popconfirm",{attrs:{title:"确认删除？"},on:{confirm:function(t){return e.deleteConfig(o.row.configCode)}}},[t("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.loadConfigSys.total,"page-size":e.loadConfigSys.pageSize,"hide-on-single-page":!0},on:{"current-change":e.handleCurrentChange}}),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small",disabled:0===e.loadConfig.configTableList.length},on:{click:e.loadConfigFun}},[e._v("加 载\n      ")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:function(o){e.dbForm.temp.loadConfigFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var c=t("VU/8")(b,g,!1,function(e){t("8BQu")},"data-v-c9d5488e",null).exports,p={name:"Connection",data:function(){return{loadConfigSys:{total:null,currentPage:1,pageSize:5,configTableList:[]},dbForm:{temp:{editConfigFormVisible:!1}},editConfigForm:{configCode:null,configName:null,configMemo:null,baseDbConfig:{dbType:null,driverClassName:null,ip:null,port:null,sid:null,username:null,password:null},extraFileDbConfig:{generateCode:!1,overCode:!1,overMarkdown:!1,generateMarkdown:!1},extraCodeDbConfig:{generateController:!1,generateService:!1,generateBatchMapper:!1}}}},methods:{init:function(){var e=this;this.$axios.get("/databaseConfig/page",{params:{page:this.loadConfigSys.currentPage,limit:this.loadConfigSys.pageSize}}).then(function(o){e.loadConfigSys.total=o.count,e.loadConfigSys.configTableList=o.list})},handleCurrentChange:function(e){this.loadConfigSys.currentPage=e,this.queryConfig()},queryConfig:function(){var e=this;this.$axios.get("/databaseConfig/page",{params:{page:this.loadConfigSys.currentPage,limit:this.loadConfigSys.pageSize}}).then(function(o){e.loadConfigSys.total=o.count,e.loadConfigSys.configTableList=o.list})},deleteConfig:function(e){var o=this;this.$axios.post("/databaseConfig/delete",{configCode:e}).then(function(e){var t=Math.ceil((o.loadConfigSys.total-1)/o.loadConfigSys.pageSize),a=o.loadConfigSys.currentPage>t?t:o.loadConfigSys.currentPage;o.loadConfigSys.currentPage=a<1?1:a,o.queryConfig()})},editConfig:function(e){var o=this;this.$axios.post("/databaseConfig/get",{configCode:e}).then(function(e){o.editConfigForm.configCode=e.configCode,o.editConfigForm.configName=e.configName,o.editConfigForm.configMemo=e.configMemo,o.editConfigForm.baseDbConfig.ip=e.configIp,o.editConfigForm.baseDbConfig.port=e.configPort,o.editConfigForm.baseDbConfig.username=e.configUsername,o.editConfigForm.baseDbConfig.password=e.configPassword,o.editConfigForm.baseDbConfig.sid=e.configSid,o.editConfigForm.baseDbConfig.dbType=e.databaseType,o.editConfigForm.baseDbConfig.driverClassName=e.databaseDriverClassName,o.dbForm.temp.editConfigFormVisible=!0})},updateConfigFun:function(){var e=this;this.$axios.post("/databaseConfig/update",this.editConfigForm).then(function(o){e.dbForm.temp.editConfigFormVisible=!1,e.dbForm.temp.loadConfigFormVisible=!0,e.queryConfig()})}},mounted:function(){this.init()}},C={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"main-body"},[t("el-row",[t("el-table",{ref:"singleTable",attrs:{data:e.loadConfigSys.configTableList,"highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{property:"configName",label:"配置名称"}}),e._v(" "),t("el-table-column",{attrs:{property:"configIp",label:"ip"}}),e._v(" "),t("el-table-column",{attrs:{property:"configPort",label:"port"}}),e._v(" "),t("el-table-column",{attrs:{property:"configUsername",label:"username"}}),e._v(" "),t("el-table-column",{attrs:{property:"configSid",label:"sid"}}),e._v(" "),t("el-table-column",{attrs:{property:"configMemo",label:"配置描述"}}),e._v(" "),t("el-table-column",{attrs:{property:"gmtModified",label:"更新时间"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{type:"warn",size:"mini"},on:{click:function(t){return e.editConfig(o.row.configCode)}}},[e._v("编辑")]),e._v(" "),t("el-popconfirm",{attrs:{title:"确认删除？"},on:{confirm:function(t){return e.deleteConfig(o.row.configCode)}}},[t("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.loadConfigSys.total,"page-size":e.loadConfigSys.pageSize,"hide-on-single-page":!0},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:"更新配置",visible:e.dbForm.temp.editConfigFormVisible,center:"",width:"80%"},on:{"update:visible":function(o){return e.$set(e.dbForm.temp,"editConfigFormVisible",o)}}},[t("el-form",{attrs:{model:e.editConfigForm,"label-position":"right"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置名称","label-width":"80px",prop:"configName",required:""}},[t("el-input",{attrs:{placeholder:"请输入配置名称"},model:{value:e.editConfigForm.configName,callback:function(o){e.$set(e.editConfigForm,"configName",o)},expression:"editConfigForm.configName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"配置备注","label-width":"80px",prop:"configMemo"}},[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入配置备注",resize:"none"},model:{value:e.editConfigForm.configMemo,callback:function(o){e.$set(e.editConfigForm,"configMemo",o)},expression:"editConfigForm.configMemo"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"驱动类型",prop:"baseDbConfig.dbType","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入驱动类型",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.dbType,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"dbType",o)},expression:"editConfigForm.baseDbConfig.dbType"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"驱动类名",prop:"baseDbConfig.driverClassName","label-width":"80px"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.editConfigForm.baseDbConfig.driverClassName,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"driverClassName",o)},expression:"editConfigForm.baseDbConfig.driverClassName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"IP地址",prop:"baseDbConfig.ip","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入主机名或IP地址",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.ip,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"ip",o)},expression:"editConfigForm.baseDbConfig.ip"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"端口号",prop:"baseDbConfig.port","label-width":"80px",required:""}},[t("el-input",{attrs:{min:1,max:25535,placeholder:"端口号",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.port,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"port",o)},expression:"editConfigForm.baseDbConfig.port"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},["ORACLE"===e.editConfigForm.baseDbConfig.dbType?t("el-form-item",{attrs:{label:"SID",prop:"baseDbConfig.sid","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入SID",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.sid,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"sid",o)},expression:"editConfigForm.baseDbConfig.sid"}})],1):e._e()],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"用户名",prop:"baseDbConfig.username","label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:"请输入用户名",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.username,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"username",o)},expression:"editConfigForm.baseDbConfig.username"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"密码",prop:"baseDbConfig.password","label-width":"80px",required:""}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码",disabled:!0},model:{value:e.editConfigForm.baseDbConfig.password,callback:function(o){e.$set(e.editConfigForm.baseDbConfig,"password",o)},expression:"editConfigForm.baseDbConfig.password"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.updateConfigFun}},[e._v("更 新")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:function(o){e.dbForm.temp.editConfigFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(p,C,!1,function(e){t("xv0m")},"data-v-285a17cb",null).exports,v={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"main-body"},[t("el-row",[t("el-form",{ref:"ruleForm",attrs:{model:e.dbForm,"label-width":"120px",rules:e.rules}},[t("el-row",[t("el-form-item",{attrs:{label:"建表语句",prop:"temp.createTableSql"}},[t("el-input",{attrs:{type:"textarea",rows:e.dbForm.temp.createTableSqlRow,"readonly:true":""},model:{value:e.dbForm.temp.createTableSql,callback:function(o){e.$set(e.dbForm.temp,"createTableSql",o)},expression:"dbForm.temp.createTableSql"}})],1)],1),e._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"字段详情"}},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dbForm.temp.columns},on:{"selection-change":e.selectTableInfo}},[t("el-table-column",{attrs:{type:"selection"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dbName",label:"字段名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"属性名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dbType",label:"字段类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"type",label:"属性类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"comment",label:"注释"}}),e._v(" "),t("el-table-column",{attrs:{prop:"columnSize",label:"大小"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nullAble",formatter:e.concertNullAble,label:"允许为NULL"}}),e._v(" "),t("el-table-column",{attrs:{prop:"defaultValue",label:"默认值"}}),e._v(" "),t("el-table-column",{attrs:{prop:"primaryKey",formatter:e.concertPrimaryKey,label:"是否主键"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=t("VU/8")({name:"TableDetail",data:function(){return{dbForm:{temp:{createTableSqlRow:20,createTableSql:null,columns:[]},detail:{tableKey:this.$route.query.tableKey}}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$axios.post("/generate/getTableInfo",this.dbForm.detail).then(function(o){e.dbForm.temp.createTableSql=o.createTableSql,e.dbForm.temp.createTableSqlRow=o.createTableSql.split("\n").length,e.dbForm.temp.columns=o.columns})},concertPrimaryKey:function(e,o){return!0===o?"是":"否"},concertNullAble:function(e,o){return!0===o?"允许":"不允许"}}},v,!1,function(e){t("TSxt")},"data-v-04f6e45a",null).exports,h=t("//Fk"),y=t.n(h),w=t("mtWM"),_=t.n(w),D=t("zL8q"),x=t.n(D),k=void 0;var T=_.a.create({timeout:864e3,crossDomain:!0,withCredentials:!0});T.defaults.withCredentials=!0,T.defaults.crossDomain=!0,T.defaults.headers.common["Access-Control-Allow-Origin"]=Object({NODE_ENV:"production"}).VUE_APP_Access_Control_Allow_Origin;var S=0;function N(){0===S&&(k=D.Loading.service({lock:!0})),S++}function $(){S<=0||0===--S&&k.close()}T.interceptors.request.use(function(e){return e.url=""+e.url,N(),e},function(e){return $(),D.Message.error({message:e}),y.a.reject(e)}),T.interceptors.response.use(function(e){return $(),0!==e.data.code?(D.Message.error({message:e.data.msg}),y.a.reject(e.data)):e.data.data},function(e){return $(),D.Message.error({message:e}),y.a.reject(e)});var M=T;a.default.use(d.a),a.default.prototype.$axios=M;var j=new d.a({mode:"history",routes:[{path:"/",name:"Index",redirect:"codeGenerator",component:r},{path:"/index",name:"Index",redirect:"codeGenerator",component:r},{path:"/connection",name:"Connection",component:u},{path:"/codeGenerator",name:"CodeGenerator",component:c},{path:"/tableDetail",name:"TableDetail",component:F}]});t("tvR6"),t("erWL");a.default.config.productionTip=!1,a.default.use(x.a),new a.default({el:"#app",router:j,components:{App:l},template:"<App/>"})},TSxt:function(e,o){},erWL:function(e,o){},t9mG:function(e,o){},tvR6:function(e,o){},xv0m:function(e,o){}},["NHnr"]);
//# sourceMappingURL=app.62081cc857abcbb1b4e3.js.map